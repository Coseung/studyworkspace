<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body{
            margin: 0;
            padding: 0;
        }

        .hoopyfield{
            display: flex;

        }
    </style>
</head>
<body>
    <fieldset class="hoopyfield">
        <legend>취미 </legend>
        <input type="checkbox" class="selectAll" value="전채선택">전체선택
        
        <div style="display: flex; flex-direction: column;">
            <div><input type="checkbox" value="종합">종합</div>
            <div><input type="checkbox" value="여행">여행</div>
            
            
            
        </div>
        <div style="display: flex; flex-direction: column;">
            <div><input type="checkbox" value="소설">소설</div>
            <div><input type="checkbox" value="과학">과학</div>
         
         
        
        
        </div>
        <div style="display: flex; flex-direction: column;">
            <div><input type="checkbox" value="시/에세이">시/에세이</div>
            <div><input type="checkbox" value="역사/문화">역사/문화</div>
            
            
        </div>
        <div style="display: flex; flex-direction: column;">
            <div><input type="checkbox" value="경제/경영">경제/경영</div>
            <div><input type="checkbox" value="외국어">외국어</div>

        </div>
        <div style="display: flex; flex-direction: column;">
            <div><input type="checkbox" value="자기계발">자기계발</div>
            <div><input type="checkbox" value="컴퓨터">컴퓨터</div>
            
            
        </div>
        <div style="display: flex; flex-direction: column;">
            <div><input type="checkbox" value="아동">아동</div>
            <div><input type="checkbox" value="만화">만화</div>
            
            
        </div>
        
    </fieldset>

    <button class="hobbyselect" style="margin-top: 30px;"> 카테고리선택 </button>
    <fieldset style="width: 100%; height: 300px;">
        <div id="result"></div>

    </fieldset>

 

    <script>
        var selectAll = document.querySelector('.selectAll');
        var checkboxes = document.querySelectorAll('.hoopyfield input[type="checkbox"]:not(.selectAll)');
        var resultBox = document.getElementById('result');

        selectAll.addEventListener('change', function(){
            for (var i = 0; i < checkboxes.length; i++) {
                checkboxes[i].checked = this.checked;
            }
        });
        for (var i = 0; i < checkboxes.length; i++) {
            checkboxes[i].addEventListener('change', function(){
                let checkall = true
                for(var j =0; j<checkboxes.length; j++){
                    if(!checkboxes[j].checked){
                        checkall =false;
                        break;
                                        
                    }
                }
                selectAll.checked = checkall;

            })
        }
        
        document.querySelector('.hobbyselect').addEventListener('click', function(){
            var rlt =[];
            for(var i=0; i<checkboxes.length; i++){
                if(checkboxes[i].checked) rlt.push(checkboxes[i].value);
                
            }
            if (rlt.length > 0) {
                resultBox.innerHTML = "선택된 카테고리: " + rlt.join(", ");
            } else {
                resultBox.innerHTML = "선택된 카테고리가 없습니다.";
            }

        })

        
        
        
    </script>
</body>
</html>